var e=Object.defineProperty,t=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,s=(t,o,n)=>o in t?e(t,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[o]=n;import{c as r,a,r as i,b as c,g as l,i as p,m,d as u,o as d,e as f,f as h,h as g}from"./vendor.8f169fc1.js";let _;const y={},b=function(e,t){if(!t)return e();if(void 0===_){const e=document.createElement("link").relList;_=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if(e in y)return;y[e]=!0;const t=e.endsWith(".css"),o=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${o}`))return;const n=document.createElement("link");return n.rel=t?"stylesheet":_,t||(n.as="script",n.crossOrigin=""),n.href=e,document.head.appendChild(n),t?new Promise(((e,t)=>{n.addEventListener("load",e),n.addEventListener("error",t)})):void 0}))).then((()=>e()))},v=[{path:"/",name:"root",redirect:()=>({name:"/mlog/"})},{path:"/mlog/",name:"mlog",component:()=>b((()=>import("./index.bb338b7d.js")),["/mlog/assets/index.bb338b7d.js","/mlog/assets/index.4f2735f8.css","/mlog/assets/song-list.d229cc24.js","/mlog/assets/song-list.2bb43cd9.css","/mlog/assets/util.6ee3bba7.js","/mlog/assets/vendor.8f169fc1.js"])},{path:"/mlog/playlist",name:"playlist",component:()=>b((()=>import("./playlist-detail.ed020e42.js")),["/mlog/assets/playlist-detail.ed020e42.js","/mlog/assets/playlist-detail.bb3ad115.css","/mlog/assets/song-list.d229cc24.js","/mlog/assets/song-list.2bb43cd9.css","/mlog/assets/util.6ee3bba7.js","/mlog/assets/vendor.8f169fc1.js"])},{path:"/mlog/song/:id",name:"play-song",component:()=>b((()=>import("./play-page.91132926.js")),["/mlog/assets/play-page.91132926.js","/mlog/assets/vendor.8f169fc1.js"])},{path:"/mlog/login",name:"login",component:()=>b((()=>import("./login.b487d5d4.js")),["/mlog/assets/login.b487d5d4.js","/mlog/assets/login.a0c0cb56.css","/mlog/assets/vendor.8f169fc1.js","/mlog/assets/util.6ee3bba7.js"])}],E=r({history:a(),routes:v,scrollBehavior:()=>({top:0})}),j={setAccount(e,t){e.accountInfo=t,console.info("state account has been changed")},setUserInfo(e,t){e.userInfo=t},setUserLogin(e,t){e.login=t}};let O=Object.create({commit:function(e,t={}){if("object"==typeof e){const{type:o,payload:n}=e;e=o,t=n}this.mutations[e]&&this.mutations[e](this.state,t)}});O.state=i({userInfo:{},accountInfo:{},login:!1}),O.mutations=j;const I=c.create({baseURL:"https://music-api-chi.vercel.app",timeout:1e4,withCredentials:!0});function L(e,t){const o=m(t);return I.get("/login/cellphone",{params:{phone:e,password:o,md5_password:o}})}I.interceptors.response.use((function(e){return e.data}),(function(e){let r=l(e,"response.data");r=p(r)?r:{};const a=((e,r)=>{for(var a in r||(r={}))o.call(r,a)&&s(e,a,r[a]);if(t)for(var a of t(r))n.call(r,a)&&s(e,a,r[a]);return e})({message:e.message||e.statusText||e.stack,response:l(e,"response")},r);return Promise.reject(a)}));const P={name:"netMusic-App",setup(){(function(){let e=(new Date).getTime();return I.get("/login/status",{params:{date:e}})})().then((({data:e})=>{e.account&&e.profile&&(O.commit("setUserLogin",!0),O.commit("setUserInfo",e.profile),O.commit("setAccount",e.account))})).catch((e=>{console.error(e)}))}},w={class:"mobile-container"};P.render=function(e,t,o,n,s,r){const a=u("router-view");return d(),f("div",w,[h(a)])};const A=g(P);A.use(E),E.isReady().then((function(){A.mount("#app")})).catch((e=>{console.error("mount routes error",e)}));export{I as i,L as l,O as s};
