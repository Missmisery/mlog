import{p as a,j as e,l,o,e as t,f as n,K as s,L as u,G as i,V as c,t as r,B as p,N as d}from"./vendor.524917de.js";import{c as v,l as m}from"./main.a60922b0.js";a("data-v-e634c528");const f={class:"login-content"},g={class:"login-form",name:"login-form"},b={class:"login-phone-input"},h={class:"login-password-input"},y={class:"auto-login-box"},w={class:"al-box-wrap"},x=n("label",{for:"login-auto",class:"at-login"},"自动登录",-1),k=n("a",{href:"#",class:"fgt-pwd"},"忘记密码",-1),V={key:0,class:"error-tips"};e();const j={expose:[],setup(a){const e=l(""),j=l(!0),I=l(""),K=l(""),N=l(!1);async function U(){try{N.value=!0,await function(){const a=/^1[3456789]\d{9}$/g;return new Promise(((e,l)=>{let o=I.value.toString();a.test(o)?K.value?e():l("请输入密码"):l("请输入正确的手机号")}))}(),j.value=!0,e.value=""}catch(a){e.value=a,j.value=!1}finally{j.value&&m(I.value,K.value).then((a=>{console.log(a),_()})),N.value=!1}}function C(a){let e=parseInt(a.target.value);I.value=isNaN(e)?"":e}const L=d();function _(){L.push("/mlog/")}const B=l(!0);return window.addEventListener("beforeunload",(function(){!1===B.value&&v()})),(a,l)=>(o(),t("main",f,[n("form",g,[n("div",b,[s(n("input",{type:"tel",placeholder:"请输入手机号","onUpdate:modelValue":l[1]||(l[1]=a=>I.value=a),onInput:C,maxlength:"11"},null,544),[[u,I.value,void 0,{trim:!0}]])]),n("div",h,[s(n("input",{type:"password",autocomplete:"",placeholder:"请输入密码","onUpdate:modelValue":l[2]||(l[2]=a=>K.value=a),onKeypress:i(U,["enter"])},null,40,["onKeypress"]),[[u,K.value,void 0,{trim:!0}]])]),n("div",y,[n("div",w,[s(n("input",{type:"checkbox",name:"autologin",id:"login-auto","onUpdate:modelValue":l[3]||(l[3]=a=>B.value=a)},null,512),[[c,B.value]]),x]),k,j.value?p("",!0):(o(),t("p",V,r(e.value),1))]),n("button",{type:"button",onClick:U,disabled:N.value,class:{"dis-btn":N.value}}," 登录 ",10,["disabled"]),n("p",{class:"back-home"},[n("a",{href:"#",onClick:_},"< 返回首页")])])]))},__scopeId:"data-v-e634c528"};export default j;
